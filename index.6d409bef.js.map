{"mappings":"YAAA,IAAAA,EAAeC,KAAO,CACpBC,cAAeC,SAASC,cAAc,iBACtCC,MAAOF,SAASC,cAAc,UAC9BE,OAAQH,SAASC,cAAc,WAC/BG,UAAWJ,SAASC,cAAc,cCA9BI,EAAW,+BAGXC,EAAU,CACdC,OAAQ,MACRC,QAAS,CACP,YAPF,0EAWFX,EAAKK,MAAMO,UAAUC,IAAI,aACzBb,EAAKM,OAAOM,UAAUC,IAAI,aAEnB,IAeMC,EAAkB,SAAAC,GAG7B,OAFAf,EAAKM,OAAOM,UAAUI,OAAO,aAC7BhB,EAAKO,UAAUK,UAAUC,IAAI,aACtBI,MACL,GAAcC,OAAXV,GAAyCU,OA9BvB,iBA8BU,eAAqBA,OAARH,GAC5CN,GACAU,MAAK,SAAAC,GACL,IAAKA,EAASC,GAGZ,MAFArB,EAAKM,OAAOM,UAAUC,IAAI,aAC1Bb,EAAKK,MAAMO,UAAUI,OAAO,aACtB,IAAIM,MAAMF,EAASG,YAI3B,OAFAvB,EAAKM,OAAOM,UAAUC,IAAI,aAC1Bb,EAAKO,UAAUK,UAAUI,OAAO,aACzBI,EAASI,M,KCjCpB,SAASC,IACP,IAAMV,EAAUf,EAAKE,cAAcwB,MACnCZ,EAAgBC,GACbI,MAAK,SAAAQ,IAgBV,SAAoBC,EAAKC,EAAMC,EAAOC,GACpC,IAAMC,EAAS,aACJd,OADiBU,EAAI,2CAEvBV,OADEW,EAAK,oBAEaX,OADpBY,EAAM,uCACmBZ,OAALa,EAAK,cAClC/B,EAAKO,UAAU0B,UAAYD,C,CAhBvBE,CAJeP,EAAK,GAAGC,IACTD,EAAK,GAAGQ,OAAO,GAAGN,KAClBF,EAAK,GAAGQ,OAAO,GAAGC,YAClBT,EAAK,GAAGQ,OAAO,GAAGE,Y,IAGjCC,OAAM,SAAAjC,G,OAASkC,QAAQC,IAAInC,E,KDL9BL,EAAKE,cAAcU,UAAUC,IAAI,aACjCb,EAAKM,OAAOM,UAAUI,OAAO,aACtBC,MAAM,GAAcC,OAAXV,GAAqBU,OAfrB,WAewBT,GAASU,MAAK,SAAAC,GACpD,IAAKA,EAASC,GAGZ,MAFArB,EAAKM,OAAOM,UAAUC,IAAI,aAC1Bb,EAAKK,MAAMO,UAAUI,OAAO,aACtB,IAAIM,MAAMF,EAASG,YAI3B,OAFAvB,EAAKM,OAAOM,UAAUC,IAAI,aAC1Bb,EAAKE,cAAcU,UAAUI,OAAO,aAC7BI,EAASI,M,KCvBjBL,MAAK,SAAAsB,GACJzC,EAAKE,cAAc+B,UAAyBQ,EAsB3CC,KAAI,SAAAC,G,IAAGC,EAAED,EAAFC,GAAIf,EAAIc,EAAJd,K,MAAW,kBAAyBX,OAAP0B,EAAG,MAAS1B,OAALW,EAAK,Y,IACpDgB,KAAK,IAtBN7C,EAAKE,cAAc4C,iBAAiB,SAAUrB,E,IAE/Ca,OAAM,SAAAjC,GACLkC,QAAQC,IAAInC,E","sources":["src/refs.js","src/cat-api.js","src/index.js"],"sourcesContent":["export default refs = {\n  selectBreedEl: document.querySelector('.breed-select'),\n  error: document.querySelector('.error'),\n  loader: document.querySelector('.loader'),\n  catInfoEl: document.querySelector('.cat-info'),\n};\n","import refs from './refs';\n\nconst API_KEY =\n  'live_1649jraXXFJZ0EuCmTKzj7icNC9VGyoX53IwfWwbmARWyiy1MmjGJcOuaMofRudb';\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nconst END_POINT = '/breeds';\nconst END_POINT_SEARCH = '/images/search';\nconst options = {\n  method: 'GET',\n  headers: {\n    'x-api-key': API_KEY,\n  },\n};\n\nrefs.error.classList.add('is-hidden');\nrefs.loader.classList.add('is-hidden');\n\nexport const fetchBreeds = () => {\n  refs.selectBreedEl.classList.add('is-hidden');\n  refs.loader.classList.remove('is-hidden');\n  return fetch(`${BASE_URL}${END_POINT}`, options).then(response => {\n    if (!response.ok) {\n      refs.loader.classList.add('is-hidden');\n      refs.error.classList.remove('is-hidden');\n      throw new Error(response.statusText);\n    }\n    refs.loader.classList.add('is-hidden');\n    refs.selectBreedEl.classList.remove('is-hidden');\n    return response.json();\n  });\n};\n\nexport const fetchCatByBreed = breedId => {\n  refs.loader.classList.remove('is-hidden');\n  refs.catInfoEl.classList.add('is-hidden');\n  return fetch(\n    `${BASE_URL}${END_POINT_SEARCH}?breed_ids=${breedId}`,\n    options\n  ).then(response => {\n    if (!response.ok) {\n      refs.loader.classList.add('is-hidden');\n      refs.error.classList.remove('is-hidden');\n      throw new Error(response.statusText);\n    }\n    refs.loader.classList.add('is-hidden');\n    refs.catInfoEl.classList.remove('is-hidden');\n    return response.json();\n  });\n};\n","import { fetchBreeds } from './cat-api';\nimport { fetchCatByBreed } from './cat-api';\nimport refs from './refs';\n\nfetchBreeds()\n  .then(cats => {\n    refs.selectBreedEl.innerHTML = createMarkup(cats);\n    refs.selectBreedEl.addEventListener('change', handleChooseEl);\n  })\n  .catch(error => {\n    console.log(error);\n  });\n\nfunction handleChooseEl() {\n  const breedId = refs.selectBreedEl.value;\n  fetchCatByBreed(breedId)\n    .then(data => {\n      const imgUrl = data[0].url;\n      const title = data[0].breeds[0].name;\n      const descr = data[0].breeds[0].description;\n      const tempr = data[0].breeds[0].temperament;\n      createCard(imgUrl, title, descr, tempr);\n    })\n    .catch(error => console.log(error));\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n    .join('');\n}\n\nfunction createCard(url, name, descr, char) {\n  const catInf = `<img src=\"${url}\" alt=\"cat\" width=\"500\" />\n  <div><h1>${name}</h1>\n      <p>${descr}</p>\n      <p><b>Temperament:</b> ${char}</p></div>`;\n  refs.catInfoEl.innerHTML = catInf;\n}\n"],"names":["$b35ad1aac71df356$export$2e2bcd8739ae039","refs","selectBreedEl","document","querySelector","error","loader","catInfoEl","$ae0c329fb0fb36dc$var$BASE_URL","$ae0c329fb0fb36dc$var$options","method","headers","classList","add","$ae0c329fb0fb36dc$export$57b7d3a597416aa2","breedId","remove","fetch","concat","then","response","ok","Error","statusText","json","$b8f9b7833fa37166$var$handleChooseEl","value","data","url","name","descr","char","catInf","innerHTML","$b8f9b7833fa37166$var$createCard","breeds","description","temperament","catch","console","log","cats","map","param","id","join","addEventListener"],"version":3,"file":"index.6d409bef.js.map"}