{"mappings":"YAAA,IAEMA,EAAW,+BAGXC,EAAU,CACdC,OAAQ,MACRC,QAAS,CACP,YAPF,0EAoBWC,EAAkB,SAAAC,GAC7B,OAAOC,MACL,GAAcC,OAAXP,GAAyCO,OAnBvB,iBAmBU,eAAqBA,OAARF,GAC5CJ,GACAO,MAAK,SAAAC,GACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAE3B,OAAOH,EAASI,M,KCzBpB,IAAMC,ECHG,CACLC,cAAeC,SAASC,cAAc,iBACtCC,QAASF,SAASC,cAAc,UAChCE,SAAUH,SAASC,cAAc,WACjCG,UAAWJ,SAASC,cAAc,cDA9BI,EAAgDP,EAAhDC,cAAeO,EAAiCR,EAAjCK,SAAUI,EAAuBT,EAAvBI,QAASM,EAAcV,EAAdM,UAW1C,SAASK,IACPF,EAAQG,UAAUC,IAAI,aACtBL,EAASI,UAAUE,OAAO,aAC1B,IAAMvB,EAAUgB,EAAcQ,MAC9BzB,EAAgBC,GACbG,MAAK,SAAAsB,IAkBV,SAAoBC,EAAKC,EAAMC,EAAOC,GACpC,IAAMC,EAAS,aACJ5B,OADiBwB,EAAI,2CAEvBxB,OADEyB,EAAK,oBAEazB,OADpB0B,EAAM,uCACmB1B,OAAL2B,EAAK,cAClCV,EAAUY,UAAYD,C,CAlBlBE,CAJeP,EAAK,GAAGC,IACTD,EAAK,GAAGQ,OAAO,GAAGN,KAClBF,EAAK,GAAGQ,OAAO,GAAGC,YAClBT,EAAK,GAAGQ,OAAO,GAAGE,aAEhClB,EAASI,UAAUC,IAAI,aACvBH,EAAUE,UAAUE,OAAO,Y,IAE5Ba,MAAMC,E,CAgBX,SAASA,IACPpB,EAASI,UAAUC,IAAI,aACvBJ,EAAQG,UAAUE,OAAO,Y,CDnClBtB,MAAM,GAAcC,OAAXP,GAAqBO,OAVrB,WAUwBN,GAASO,MAAK,SAAAC,GACpD,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAE3B,OAAOH,EAASI,M,ICTjBL,MAAK,SAAAmC,GACJtB,EAAce,UAAyBO,EA0BtCC,KAAI,SAAAC,G,IAAGC,EAAED,EAAFC,GAAId,EAAIa,EAAJb,K,MAAW,kBAAyBzB,OAAPuC,EAAG,MAASvC,OAALyB,EAAK,Y,IACpDe,KAAK,IA1BN1B,EAAc2B,iBAAiB,SAAUvB,GACzCH,EAASI,UAAUC,IAAI,aACvBN,EAAcK,UAAUE,OAAO,Y,IAEhCa,MAAMC,E","sources":["src/cat-api.js","src/index.js","src/refs.js"],"sourcesContent":["const API_KEY =\n  'live_1649jraXXFJZ0EuCmTKzj7icNC9VGyoX53IwfWwbmARWyiy1MmjGJcOuaMofRudb';\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nconst END_POINT = '/breeds';\nconst END_POINT_SEARCH = '/images/search';\nconst options = {\n  method: 'GET',\n  headers: {\n    'x-api-key': API_KEY,\n  },\n};\n\nexport const fetchBreeds = () => {\n  return fetch(`${BASE_URL}${END_POINT}`, options).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n};\n\nexport const fetchCatByBreed = breedId => {\n  return fetch(\n    `${BASE_URL}${END_POINT_SEARCH}?breed_ids=${breedId}`,\n    options\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n};\n","import { fetchBreeds } from './cat-api';\nimport { fetchCatByBreed } from './cat-api';\nimport getrRefs from './refs';\n\nconst refs = getrRefs();\nconst { selectBreedEl, loaderEl, errorEl, catInfoEl } = refs;\n\nfetchBreeds()\n  .then(cats => {\n    selectBreedEl.innerHTML = createMarkup(cats);\n    selectBreedEl.addEventListener('change', handleChooseEl);\n    loaderEl.classList.add('is-hidden');\n    selectBreedEl.classList.remove('is-hidden');\n  })\n  .catch(onFetchError);\n\nfunction handleChooseEl() {\n  errorEl.classList.add('is-hidden');\n  loaderEl.classList.remove('is-hidden');\n  const breedId = selectBreedEl.value;\n  fetchCatByBreed(breedId)\n    .then(data => {\n      const imgUrl = data[0].url;\n      const title = data[0].breeds[0].name;\n      const descr = data[0].breeds[0].description;\n      const tempr = data[0].breeds[0].temperament;\n      createCard(imgUrl, title, descr, tempr);\n      loaderEl.classList.add('is-hidden');\n      catInfoEl.classList.remove('is-hidden');\n    })\n    .catch(onFetchError);\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n    .join('');\n}\n\nfunction createCard(url, name, descr, char) {\n  const catInf = `<img src=\"${url}\" alt=\"cat\" width=\"500\" />\n  <div><h1>${name}</h1>\n      <p>${descr}</p>\n      <p><b>Temperament:</b> ${char}</p></div>`;\n  catInfoEl.innerHTML = catInf;\n}\nfunction onFetchError() {\n  loaderEl.classList.add('is-hidden');\n  errorEl.classList.remove('is-hidden');\n}\n","export default function getrRefs() {\n  return {\n    selectBreedEl: document.querySelector('.breed-select'),\n    errorEl: document.querySelector('.error'),\n    loaderEl: document.querySelector('.loader'),\n    catInfoEl: document.querySelector('.cat-info'),\n  };\n}\n"],"names":["$ae0c329fb0fb36dc$var$BASE_URL","$ae0c329fb0fb36dc$var$options","method","headers","$ae0c329fb0fb36dc$export$57b7d3a597416aa2","breedId","fetch","concat","then","response","ok","Error","statusText","json","$b8f9b7833fa37166$var$refs","selectBreedEl","document","querySelector","errorEl","loaderEl","catInfoEl","$b8f9b7833fa37166$var$selectBreedEl","$b8f9b7833fa37166$var$loaderEl","$b8f9b7833fa37166$var$errorEl","$b8f9b7833fa37166$var$catInfoEl","$b8f9b7833fa37166$var$handleChooseEl","classList","add","remove","value","data","url","name","descr","char","catInf","innerHTML","$b8f9b7833fa37166$var$createCard","breeds","description","temperament","catch","$b8f9b7833fa37166$var$onFetchError","cats","map","param","id","join","addEventListener"],"version":3,"file":"index.828a72c3.js.map"}